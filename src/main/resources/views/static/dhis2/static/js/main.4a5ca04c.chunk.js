(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{391:function(e,t,a){},392:function(e,t,a){},464:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),i=a(21),n=a.n(i),c=a(37),l=a(153),s=(a(390),a(391),a(392),a(393),a(94)),d=a(148),u=a(15),b=a(22),j=a(500),f=a(506),h=a(508),O=a(501),v=a(372),p=a(509),g=a(504),y=a(502),x=a(246),m=a.n(x),S=a(503),w=new URLSearchParams(window.location.search).get("jwt"),_="/",A=a(359),B=a.n(A),P=a(369),L=a.n(P),R=a(360),C=a.n(R),D=a(367),F=a.n(D),H=a(253),N=a.n(H),I=a(252),k=a.n(I),z=a(361),T=a.n(z),M=a(362),U=a.n(M),E=a(364),W=a.n(E),J=a(365),q=a.n(J),V=a(366),G=a.n(V),Y=a(370),K=a.n(Y),Q=a(363),X=a.n(Q),Z=a(368),$=a.n(Z),ee=a(371),te=a.n(ee),ae=a(510),re=a(14),oe={Add:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(B.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(C.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(k.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(T.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(N.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(U.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(X.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(W.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(q.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(G.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(N.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(F.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(k.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(re.jsx)($.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(L.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(K.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(re.jsx)(te.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))}))},ie=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),a=t[0],o=t[1],i=Object(r.useState)(0),n=Object(u.a)(i,2),c=n[0],b=n[1],x=Object(r.useState)(null),A=Object(u.a)(x,2),B=A[0],P=A[1],L=Object(r.useState)([]),R=Object(u.a)(L,2),C=R[0],D=R[1],F=function(){S.a.get("".concat(_,"v1/dhis2/dhis2-uploads"),{headers:{Authorization:"Bearer ".concat(w)}}).then((function(e){D(e.data)})).catch((function(e){console.log(e)}))};Object(r.useEffect)((function(){F()}),[]);var H=function(){var e=new Date,t=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear();return"".concat(r,"-").concat(a,"-").concat(t)},N=function(){var e=Object(d.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return l.b.error("No file selected for upload"),e.abrupt("return");case 3:(t=new FileReader).onload=Object(d.a)(Object(s.a)().mark((function e(){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(t.result),e.next=3,S.a.post("".concat(_,"v1/dhis2/push-data"),JSON.stringify(a),{headers:{Authorization:"Bearer ".concat(w),"Content-Type":"application/json"},onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);b(t)}}).then((function(e){document.getElementById("fileInput").value="",o(null),l.b.success("DHIS2 Data ".concat(e.data.message)),b(0);var t={filename:B,uploadDate:H(),status:"Upload Successful"};S.a.post("".concat(_,"v1/dhis2/dhis2-status-uploads"),t,{headers:{Authorization:"Bearer ".concat(w)}}).then((function(e){F()})).catch((function(e){console.log(e)}))})).catch((function(e){b(0);var t={filename:B,uploadDate:H(),status:"Upload Failed"};S.a.post("".concat(_,"v1/dhis2/dhis2-status-uploads"),t,{headers:{Authorization:"Bearer ".concat(w)}}).then((function(e){F()})).catch((function(e){console.log(e)}))}));case 3:case"end":return e.stop()}}),e)}))),t.readAsText(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(re.jsx)(re.Fragment,{children:Object(re.jsx)(j.a,{fluid:!0,children:Object(re.jsxs)(f.a,{className:"mt-3",children:[Object(re.jsxs)(h.a,{children:[Object(re.jsx)(h.a.Item,{href:"#",children:"Home"}),Object(re.jsx)(h.a.Item,{href:"/",children:"DHIS2"})]}),Object(re.jsx)(f.a.Title,{className:"m-2",children:"LAMISPlus DHIS2 Integration Module"}),Object(re.jsx)(f.a.Text,{className:"m-2",children:"This module is design to assist with direct push of aggregate data from LAMISPlus to DHIS2."}),Object(re.jsxs)(f.a.Body,{children:[Object(re.jsxs)(O.a,{children:[Object(re.jsx)(v.a,{children:Object(re.jsx)(p.a,{animated:!0,now:c})}),Object(re.jsx)(v.a,{children:Object(re.jsxs)(O.a,{className:"align-items-center",children:[Object(re.jsx)(v.a,{sm:6,className:"my-1",children:Object(re.jsxs)(g.a.Group,{className:"mb-3",children:[Object(re.jsx)(g.a.Label,{children:Object(re.jsx)("b",{children:"Upload Aggregate Data"})}),Object(re.jsx)(g.a.Control,{placeholder:"Dhis2 json file upload",type:"file",onChange:function(e){P(e.target.files[0].name),o(e.target.files[0])},id:"fileInput"})]})}),Object(re.jsx)(v.a,{sm:6,className:"my-1",children:Object(re.jsxs)(y.a,{variant:"primary",onClick:N,children:["Upload"," ",Object(re.jsx)("span",{className:"fa fa-cloud-upload","aria-hidden":"true"})]})})]})})]}),Object(re.jsx)(O.a,{children:Object(re.jsxs)(v.a,{children:[Object(re.jsx)("br",{}),Object(re.jsx)(m.a,{icons:oe,title:"Uploads to DHIS2 ",columns:[{title:"File Name",field:"name"},{title:"Date of Upload",field:"date"},{title:"Status",field:"status"}],data:C.map((function(e){return{name:e.filename,date:e.uploadDate,status:Object(re.jsx)(ae.a,{color:"Upload Successful"!==e.status?"danger":"info",children:e.status})}})),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})]})})]})]})})})};function ne(){return Object(re.jsx)(c.a,{children:Object(re.jsxs)("div",{children:[Object(re.jsx)(l.a,{}),Object(re.jsx)(c.d,{children:Object(re.jsx)(c.b,{path:"/",children:Object(re.jsx)(ie,{})})})]})})}var ce=a(189),le=a(374),se="ltr",de=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:se},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:se},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:se},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:se},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:se},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:se}],ue=Object(r.createContext)(),be=function(e){var t=Object(r.useState)({value:"full",label:"Full"}),a=Object(u.a)(t,2),o=a[0],i=a[1],n=Object(r.useState)({value:"fixed",label:"Fixed"}),c=Object(u.a)(n,2),l=c[0],s=c[1],d=Object(r.useState)({value:"fixed",label:"Fixed"}),b=Object(u.a)(d,2),j=b[0],f=b[1],h=Object(r.useState)({value:"vertical",label:"Vertical"}),O=Object(u.a)(h,2),v=O[0],p=O[1],g=Object(r.useState)({value:"ltr",label:"LTR"}),y=Object(u.a)(g,2),x=y[0],m=y[1],S=Object(r.useState)("color_1"),w=Object(u.a)(S,2),_=w[0],A=w[1],B=Object(r.useState)("color_1"),P=Object(u.a)(B,2),L=P[0],R=P[1],C=Object(r.useState)("color_1"),D=Object(u.a)(C,2),F=D[0],H=D[1],N=Object(r.useState)("color_1"),I=Object(u.a)(N,2),k=I[0],z=I[1],T=Object(r.useState)(!1),M=Object(u.a)(T,2),U=M[0],E=M[1],W=Object(r.useState)(!1),J=Object(u.a)(W,2),q=J[0],V=J[1],G=Object(r.useState)({value:"light",label:"Light"}),Y=Object(u.a)(G,2),K=Y[0],Q=Y[1],X=Object(r.useState)({value:"wide-boxed",label:"Wide Boxed"}),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=document.querySelector("body"),ae=Object(r.useState)(0),oe=Object(u.a)(ae,2),ie=oe[0],ne=oe[1],ce=Object(r.useState)(0),le=Object(u.a)(ce,2),se=le[0],be=le[1],je=function(e){A(e),te.setAttribute("data-primary",e)},fe=function(e){R(e),te.setAttribute("data-nav-headerbg",e)},he=function(e){H(e),te.setAttribute("data-headerbg",e)},Oe=function(e){z(e),te.setAttribute("data-sibebarbg",e)},ve=function(e){s(e),te.setAttribute("data-sidebar-position",e.value)},pe=function(e){m(e),te.setAttribute("direction",e.value);var t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},ge=function(e){"horizontal"===e.value&&"overlay"===o.value?(p(e),te.setAttribute("data-layout",e.value),i({value:"full",label:"Full"}),te.setAttribute("data-sidebar-style","full")):(p(e),te.setAttribute("data-layout",e.value))},ye=function(e){"horizontal"===v.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(i(e),E("icon-hover"===e.value?"_i-hover":""),te.setAttribute("data-sidebar-style",e.value))},xe=function(e){f(e),te.setAttribute("data-header-position",e.value)},me=function(e){te.setAttribute("data-theme-version",e.value),Q(e)},Se=function(e){ee(e),te.setAttribute("data-container",e.value),"boxed"===e.value&&ye({value:"overlay",label:"Overlay"})};return Object(r.useEffect)((function(){var e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");var t=function(){ne(window.innerWidth),be(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(re.jsx)(ue.Provider,{value:{body:te,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:l,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:_,navigationHader:L,windowWidth:ie,windowHeight:se,changePrimaryColor:je,changeNavigationHader:fe,changeSideBarStyle:ye,sideBarStyle:o,changeSideBarPostion:ve,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:xe,headerposition:j,changeSideBarLayout:ge,sidebarLayout:v,changeDirectionLayout:pe,changeContainerPosition:Se,direction:x,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:F,chnageHaderColor:he,chnageSidebarColor:Oe,sidebarColor:k,iconHover:U,menuToggle:q,openMenuToggle:function(){"overly"===o.value?V(!0):V(!1)},changeBackground:me,background:K,containerPosition_:$,setDemoTheme:function(e,t){var a={},r=de[e];te.setAttribute("data-typography",r.typography),a.value=r.version,me(a),a.value=r.layout,ge(a),je(r.primary),fe(r.navheaderBg),he(r.headerBg),a.value=r.sidebarStyle,ye(a),Oe(r.sidebarBg),a.value=r.sidebarPosition,ve(a),a.value=r.headerPosition,xe(a),a.value=r.containerLayout,Se(a),a.value=t,pe(a)}},children:e.children})};n.a.render(Object(re.jsx)(o.a.StrictMode,{children:Object(re.jsx)(le.a,{children:Object(re.jsx)(ce.a,{basename:"/",children:Object(re.jsx)(be,{children:Object(re.jsx)(ne,{})})})})}),document.getElementById("root"))}},[[464,1,2]]]);
//# sourceMappingURL=main.4a5ca04c.chunk.js.map